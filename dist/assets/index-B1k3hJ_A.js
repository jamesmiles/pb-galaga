(function(){"use strict";const Le="0.3.0",D=1e3/60,J=250,p=800,m=800,be=3,ee=100,Ie=300,te=2e3,H=14,Oe=200,Y=500,ie=50,se=3e3,ne=4,oe=50,Pe=100,De=14,le=100,Fe=200,Ne=16,re=50,Be=150,_e=12,U=60,K=48,x=40,He=1.5,Ye=20,ae=200,Ue=50,je=3e3,Ge=3,ze=500,We=2e3,$e=100,Xe=30;class Ke{constructor(e,i){this.animationFrameId=0,this.lastTimestamp=0,this.accumulator=0,this.running=!1,this.tickCount=0,this.frameCount=0,this.fpsTimer=0,this.engineFps=0,this.renderFps=0,this.updateFn=e,this.renderFn=i}start(){this.running||(this.running=!0,this.lastTimestamp=0,this.accumulator=0,this.tickCount=0,this.frameCount=0,this.fpsTimer=0,this.animationFrameId=requestAnimationFrame(e=>this.tick(e)))}stop(){this.running=!1,this.animationFrameId&&(cancelAnimationFrame(this.animationFrameId),this.animationFrameId=0)}isRunning(){return this.running}tick(e){if(!this.running)return;if(this.lastTimestamp===0){this.lastTimestamp=e,this.fpsTimer=e,this.animationFrameId=requestAnimationFrame(n=>this.tick(n));return}let i=e-this.lastTimestamp;for(this.lastTimestamp=e,i>J&&(i=J),this.accumulator+=i;this.accumulator>=D;)this.updateFn(D),this.accumulator-=D,this.tickCount++;const s=this.accumulator/D;this.renderFn(s),this.frameCount++,this.fpsTimer=this.fpsTimer||e,e-this.fpsTimer>=1e3&&(this.engineFps=this.tickCount,this.renderFps=this.frameCount,this.tickCount=0,this.frameCount=0,this.fpsTimer=e),this.animationFrameId=requestAnimationFrame(n=>this.tick(n))}tickHeadless(e){for(let i=0;i<e;i++)this.updateFn(D),this.tickCount++}}class xe{constructor(){this.bufferA=j(),this.bufferB=j(),this.currentState=this.bufferA,this.previousState=this.bufferB}swapBuffers(){const e=this.previousState;this.previousState=this.currentState,this.currentState=e,Ve(this.currentState,this.previousState)}reset(){this.bufferA=j(),this.bufferB=j(),this.currentState=this.bufferA,this.previousState=this.bufferB}}function j(){return{currentTime:0,deltaTime:0,gameMode:"single",gameStatus:"menu",currentLevel:1,currentWave:1,waveStatus:"transition",players:[],enemies:[],projectiles:[],powerups:[],background:{stars:[],scrollSpeed:0},formation:qe(),menu:{type:"start",selectedOption:0,options:["1 Player","2 Players"]}}}function qe(){return{rows:0,cols:0,direction:1,speed:U,baseSpeed:U,offsetX:0,offsetY:0,cellWidth:K,cellHeight:x,standoffY:0}}function Ve(t,e){t.currentTime=e.currentTime,t.deltaTime=e.deltaTime,t.gameMode=e.gameMode,t.gameStatus=e.gameStatus,t.currentLevel=e.currentLevel,t.currentWave=e.currentWave,t.waveStatus=e.waveStatus,t.players=e.players,t.enemies=e.enemies,t.projectiles=e.projectiles,t.powerups=e.powerups,t.background=e.background,t.formation=e.formation,t.menu=e.menu}function q(t){return{id:t,shipColor:t==="player1"?"red":"blue",position:{x:p/2,y:m-60},velocity:{x:0,y:0},rotation:0,isAlive:!0,isInvulnerable:!0,invulnerabilityTimer:2e3,lives:be,score:0,health:ee,maxHealth:ee,fireMode:"normal",fireCooldown:0,isThrusting:!1,isFiring:!1,collisionState:"none",input:{left:!1,right:!1,up:!1,down:!1,fire:!1},deathSequence:null}}const fe=new Set(["ArrowLeft","ArrowRight","ArrowUp","ArrowDown","Space","Enter","Escape","KeyW","KeyA","KeyS","KeyD","KeyQ","KeyM"]);class Qe{constructor(e=!1){this.keyState={},this.handleKeyDown=i=>{fe.has(i.code)&&i.preventDefault(),this.keyState[i.code]=!0},this.handleKeyUp=i=>{fe.has(i.code)&&i.preventDefault(),this.keyState[i.code]=!1},this.headless=e,!e&&typeof window<"u"&&(window.addEventListener("keydown",this.handleKeyDown),window.addEventListener("keyup",this.handleKeyUp))}getPlayerInput(){return{left:!!this.keyState.ArrowLeft,right:!!this.keyState.ArrowRight,up:!!this.keyState.ArrowUp,down:!!this.keyState.ArrowDown,fire:!!this.keyState.Space}}getPlayer2Input(){return{left:!!this.keyState.KeyA,right:!!this.keyState.KeyD,up:!!this.keyState.KeyW,down:!!this.keyState.KeyS,fire:!!this.keyState.KeyQ}}getMenuInput(){const e={up:!!this.keyState.ArrowUp,down:!!this.keyState.ArrowDown,confirm:!!this.keyState.Enter||!!this.keyState.Space,back:!!this.keyState.Escape};return e.up&&(this.keyState.ArrowUp=!1),e.down&&(this.keyState.ArrowDown=!1),e.confirm&&(this.keyState.Enter=!1,this.keyState.Space=!1),e.back&&(this.keyState.Escape=!1),e}getMuteToggle(){const e=!!this.keyState.KeyM;return e&&(this.keyState.KeyM=!1),e}injectPlayerInput(e){e.left!==void 0&&(this.keyState.ArrowLeft=e.left),e.right!==void 0&&(this.keyState.ArrowRight=e.right),e.up!==void 0&&(this.keyState.ArrowUp=e.up),e.down!==void 0&&(this.keyState.ArrowDown=e.down),e.fire!==void 0&&(this.keyState.Space=e.fire)}injectMenuInput(e){e.up&&(this.keyState.ArrowUp=!0),e.down&&(this.keyState.ArrowDown=!0),e.confirm&&(this.keyState.Enter=!0),e.back&&(this.keyState.Escape=!0)}clearAll(){this.keyState={}}destroy(){!this.headless&&typeof window<"u"&&(window.removeEventListener("keydown",this.handleKeyDown),window.removeEventListener("keyup",this.handleKeyUp))}}const G=H+2;function Ze(t,e){t.isAlive&&(Je(t,e),et(t,e),tt(t,e),it(t))}function Je(t,e){const i=t.input,s=Ie*e;if(t.velocity.x=0,t.velocity.y=0,i.left&&(t.velocity.x=-s),i.right&&(t.velocity.x=s),i.up&&(t.velocity.y=-s),i.down&&(t.velocity.y=s),t.velocity.x!==0&&t.velocity.y!==0){const n=1/Math.SQRT2;t.velocity.x*=n,t.velocity.y*=n}t.position.x+=t.velocity.x,t.position.y+=t.velocity.y,t.position.x=Math.max(G,Math.min(p-G,t.position.x)),t.position.y=Math.max(G,Math.min(m-G,t.position.y)),t.isThrusting=t.velocity.x!==0||t.velocity.y!==0}function et(t,e){t.isInvulnerable&&(t.invulnerabilityTimer-=e*1e3,t.invulnerabilityTimer<=0&&(t.isInvulnerable=!1,t.invulnerabilityTimer=0))}function tt(t,e){t.fireCooldown>0&&(t.fireCooldown-=e*1e3,t.fireCooldown<0&&(t.fireCooldown=0))}function it(t){t.isFiring=t.input.fire&&t.fireCooldown<=0,t.isFiring&&(t.fireCooldown=Oe)}function st(t){t.lives<=0||(t.isAlive=!0,t.health=t.maxHealth,t.position={x:p/2,y:m-60},t.velocity={x:0,y:0},t.isInvulnerable=!0,t.invulnerabilityTimer=te,t.collisionState="none",t.deathSequence=null)}function ce(t,e,i=0){return t.isInvulnerable||!t.isAlive?!1:(t.health-=e,t.health<=0?(t.health=0,t.isAlive=!1,t.lives--,t.collisionState="destroyed",t.deathSequence={active:!0,startTime:i,duration:We,position:{x:t.position.x,y:t.position.y}},!0):(t.collisionState="colliding",t.isInvulnerable=!0,t.invulnerabilityTimer=te,!1))}let ue=0;function nt(t,e){return{id:`laser-${ue++}`,type:"laser",owner:e,position:{x:t.x,y:t.y},velocity:{x:0,y:-Y},rotation:0,speed:Y,damage:ie,isActive:!0,lifetime:0,maxLifetime:se,collisionRadius:ne,hasCollided:!1}}function ot(t,e){return{id:`laser-${ue++}`,type:"laser",owner:e,position:{x:t.x,y:t.y},velocity:{x:0,y:Y},rotation:Math.PI,speed:Y,damage:ie,isActive:!0,lifetime:0,maxLifetime:se,collisionRadius:ne,hasCollided:!1}}function lt(t,e){t.isActive&&(t.position.x+=t.velocity.x*e,t.position.y+=t.velocity.y*e,t.lifetime+=e*1e3,(t.position.y<-20||t.position.y>m+20||t.lifetime>=t.maxLifetime||t.hasCollided)&&(t.isActive=!1))}function rt(t,e){for(const i of t.projectiles)lt(i,e);t.projectiles=t.projectiles.filter(i=>i.isActive)}function at(t){for(const e of t.players)if(e.isFiring&&e.isAlive){const i=nt({x:e.position.x,y:e.position.y-16},{type:"player",id:e.id});t.projectiles=[...t.projectiles,i]}}const ft=50;function ct(t,e){const i=e*K,s=(p-i)/2;return{rows:t,cols:e,direction:1,speed:U,baseSpeed:U,offsetX:s,offsetY:-t*x,cellWidth:K,cellHeight:x,standoffY:m-ft-H}}function ut(t,e){const i=t.formation,s=t.enemies.filter(r=>r.isAlive);if(s.length===0)return;const n=i.rows*i.cols,o=s.length;if(n>0&&o>0){const r=1-o/n;i.speed=i.baseSpeed*(1+r*He)}if(i.offsetY<20){i.offsetY+=i.speed*e*2,he(t);return}const l=i.direction*i.speed*e;i.offsetX+=l;const{minCol:a,maxCol:f}=ht(s),h=i.offsetX+a*i.cellWidth;if(i.offsetX+(f+1)*i.cellWidth>p||h<0){i.direction*=-1,i.offsetX-=l;const r=dt(s);i.offsetY+(r+1)*i.cellHeight<i.standoffY&&(i.offsetY+=Ye)}he(t)}function he(t){const e=t.formation;for(const i of t.enemies)i.isAlive&&(i.diveState||(i.position.x=e.offsetX+(i.formationCol+.5)*e.cellWidth,i.position.y=e.offsetY+(i.formationRow+.5)*e.cellHeight))}function ht(t){let e=1/0,i=-1/0;for(const s of t)s.formationCol<e&&(e=s.formationCol),s.formationCol>i&&(i=s.formationCol);return{minCol:e,maxCol:i}}function dt(t){let e=0;for(const i of t)i.formationRow>e&&(e=i.formationRow);return e}function z(){const t=[];for(let e=0;e<$e;e++)t.push(pt());return{stars:t,scrollSpeed:Xe}}function pt(){const t=Math.random()*.8+.2;return{position:{x:Math.random()*p,y:Math.random()*m},depth:t,size:t*2+.5,brightness:t*.6+.4}}function mt(t,e){for(const i of t.stars)i.position.y+=t.scrollSpeed*i.depth*e,i.position.y>m&&(i.position.y-=m,i.position.x=Math.random()*p)}let yt=0;function de(t,e){return{id:`enemyA-${yt++}`,type:"A",position:{x:0,y:0},velocity:{x:0,y:0},rotation:Math.PI,isAlive:!0,health:oe,maxHealth:oe,fireMode:"none",fireCooldown:0,fireRate:0,isThrusting:!1,isFiring:!1,collisionState:"none",scoreValue:Pe,collisionRadius:De,formationRow:t,formationCol:e,diveState:null}}function pe(t,e){return t.isAlive?(t.health-=e,t.health<=0?(t.health=0,t.isAlive=!1,t.collisionState="destroyed",!0):(t.collisionState="colliding",!1)):!1}function V(t,e){const i=t.x-e.x,s=t.y-e.y;return Math.sqrt(i*i+s*s)}function vt(t){gt(t),St(t),wt(t)}function gt(t){for(const e of t.players)if(!(!e.isAlive||e.isInvulnerable))for(const i of t.enemies){if(!i.isAlive)continue;V(e.position,i.position)<H+i.collisionRadius&&(ce(e,e.maxHealth,t.currentTime),pe(i,i.maxHealth))}}function St(t){for(const e of t.projectiles)if(!(!e.isActive||e.hasCollided)&&e.owner.type==="player")for(const i of t.enemies){if(!i.isAlive)continue;if(V(e.position,i.position)<e.collisionRadius+i.collisionRadius){if(e.hasCollided=!0,e.isActive=!1,pe(i,e.damage)){const o=t.players.find(l=>l.id===e.owner.id);o&&(o.score+=i.scoreValue)}break}}}function wt(t){for(const e of t.projectiles)if(!(!e.isActive||e.hasCollided)&&e.owner.type==="enemy")for(const i of t.players){if(!i.isAlive||i.isInvulnerable)continue;if(V(e.position,i.position)<e.collisionRadius+H){e.hasCollided=!0,e.isActive=!1,ce(i,e.damage,t.currentTime);break}}}let Et=0;function At(t,e){return{id:`enemyB-${Et++}`,type:"B",position:{x:0,y:0},velocity:{x:0,y:0},rotation:Math.PI,isAlive:!0,health:le,maxHealth:le,fireMode:"laser",fireCooldown:0,fireRate:3e3,isThrusting:!1,isFiring:!1,collisionState:"none",scoreValue:Fe,collisionRadius:Ne,formationRow:t,formationCol:e,diveState:null}}let Mt=0;function Rt(t,e){return{id:`enemyC-${Mt++}`,type:"C",position:{x:0,y:0},velocity:{x:0,y:0},rotation:Math.PI,isAlive:!0,health:re,maxHealth:re,fireMode:"bullet",fireCooldown:0,fireRate:2e3,isThrusting:!1,isFiring:!1,collisionState:"none",scoreValue:Be,collisionRadius:_e,formationRow:t,formationCol:e,diveState:null}}const Tt=3e3,Ct={A:de,B:At,C:Rt};class kt{constructor(){this.levels=new Map,this.waveTransitionTimer=0}registerLevel(e){this.levels.set(e.levelNumber,e)}startLevel(e,i){const s=this.levels.get(i);s&&(e.currentLevel=i,e.currentWave=1,e.waveStatus="transition",this.waveTransitionTimer=0,this.spawnWave(e,s.waves[0]))}update(e){if(e.waveStatus==="transition"){this.waveTransitionTimer+=e.deltaTime,(this.waveTransitionTimer>=Tt||e.currentWave===1)&&(e.waveStatus="active",this.waveTransitionTimer=0);return}if(e.waveStatus!=="active")return;if(e.enemies.filter(s=>s.isAlive).length===0&&e.enemies.length>0){e.waveStatus="complete";const s=this.levels.get(e.currentLevel);s&&e.currentWave<s.waves.length&&(e.currentWave++,e.waveStatus="transition",this.waveTransitionTimer=0,this.spawnWave(e,s.waves[e.currentWave-1]))}}getTotalWaves(e){const i=this.levels.get(e);return i?i.waves.length:0}spawnWave(e,i){e.enemies=[],e.projectiles=[];let s=0,n=0;for(const l of i.enemies)s+=l.rows,l.cols>n&&(n=l.cols);e.formation=ct(s,n);let o=0;for(const l of i.enemies){const a=Ct[l.type]??de;for(let f=0;f<l.rows;f++)for(let h=0;h<l.cols;h++)e.enemies.push(a(o+f,h));o+=l.rows}}}let Lt=0;function bt(t,e){return{id:`bullet-${Lt++}`,type:"bullet",owner:e,position:{x:t.x,y:t.y},velocity:{x:0,y:ae},rotation:Math.PI,speed:ae,damage:Ue,isActive:!0,lifetime:0,maxLifetime:je,collisionRadius:Ge,hasCollided:!1}}const It={laser:{base:3e3,jitter:500},bullet:{base:2e3,jitter:500}};class Ot{constructor(){this.cooldowns=new Map}update(e,i){const s=e.enemies.filter(o=>o.isAlive);if(s.length===0)return;const n=this.getFrontRowEnemyIds(s);for(const o of s){if(o.fireMode==="none"||!n.has(o.id))continue;this.cooldowns.has(o.id)||this.cooldowns.set(o.id,this.randomCooldown(o.fireMode));let l=this.cooldowns.get(o.id);l-=i*1e3,l<=0&&(this.fireProjectile(e,o),l=this.randomCooldown(o.fireMode)),this.cooldowns.set(o.id,l)}for(const[o]of this.cooldowns)s.some(l=>l.id===o)||this.cooldowns.delete(o)}getFrontRowEnemyIds(e){const i=new Map;for(const s of e){const n=i.get(s.formationCol);(!n||s.position.y>n.y)&&i.set(s.formationCol,{id:s.id,y:s.position.y})}return new Set([...i.values()].map(s=>s.id))}fireProjectile(e,i){const s={type:"enemy",id:i.id},n={x:i.position.x,y:i.position.y+16};let o;i.fireMode==="laser"?o=ot(n,s):o=bt(n,s),e.projectiles=[...e.projectiles,o]}randomCooldown(e){const i=It[e];return i?i.base+(Math.random()*2-1)*i.jitter:5e3}reset(){this.cooldowns.clear()}}const Pt=2,Q=3,Dt=300,Ft={A:1,B:.7,C:1.5},Nt=40,L=.2,W=.5;class Bt{constructor(){this.activeDivers=new Set,this.cooldownTimer=Q}update(e,i){const s=e.enemies.filter(n=>n.isAlive);if(s.length!==0){this.cooldownTimer-=i,this.activeDivers.size<Pt&&this.cooldownTimer<=0&&this.initiateDive(e,s);for(const n of s)n.diveState&&this.updateDivingEnemy(n,e,i);for(const n of this.activeDivers)s.some(o=>o.id===n)||this.activeDivers.delete(n)}}initiateDive(e,i){const s=i.filter(a=>!a.diveState&&!this.activeDivers.has(a.id));if(s.length===0)return;const n=s[Math.floor(Math.random()*s.length)],o=e.players.filter(a=>a.isAlive),l=o.length>0?o[Math.floor(Math.random()*o.length)].position.x:p/2;n.diveState={phase:"break",progress:0,targetX:l,startPos:{x:n.position.x,y:n.position.y}},this.activeDivers.add(n.id),this.cooldownTimer=Q}updateDivingEnemy(e,i,s){const n=e.diveState,l=Dt*(Ft[e.type]??1)*s/m;if(n.progress+=l,n.progress<=L){const a=n.progress/L;e.position.x=n.startPos.x+(n.targetX-n.startPos.x)*a*.5,e.position.y=n.startPos.y+a*100}else if(n.progress<=L+W){const a=(n.progress-L)/W,f=n.startPos.x+(n.targetX-n.startPos.x)*.5,h=n.startPos.y+100;e.position.x=f+(n.targetX-f)*a,e.position.y=h+a*(m*.6)}else{n.phase="sweep";const a=(n.progress-L-W)/(1-L-W),f=n.startPos.y+100+m*.6;e.position.x=n.targetX,e.position.y=f+a*m*.4}e.position.y>m+Nt&&this.returnToFormation(e,i)}returnToFormation(e,i){const s=i.formation;e.position.x=s.offsetX+(e.formationCol+.5)*s.cellWidth,e.position.y=s.offsetY+(e.formationRow+.5)*s.cellHeight,e.diveState=null,this.activeDivers.delete(e.id)}getActiveDiverCount(){return this.activeDivers.size}isDiving(e){return this.activeDivers.has(e)}reset(){this.activeDivers.clear(),this.cooldownTimer=Q}}let T,_t=.3;function Ht(...t){return me(ye(...t))}function me(t){if(!T)try{T=new AudioContext}catch{return}const e=T.createBuffer(1,t.length,T.sampleRate),i=e.getChannelData(0);for(let o=0;o<t.length;o++)i[o]=t[o];const s=T.createBufferSource(),n=T.createGain();return n.gain.value=_t,s.buffer=e,s.connect(n),n.connect(T.destination),s.start(),s}function ye(t=1,e=.05,i=220,s=0,n=0,o=.1,l=0,a=1,f=0,h=0,d=0,r=0,c=0,C=0,k=0,N=0,R=0,M=1,w=0,b=0){const v=Math.PI*2;let Me=f*=500*v/44100/44100,O=i*=(1+e*2*Math.random()-e)*v/44100,P=[],g=0,Re=0,E=0,X=1,ti=0,Te=0,B=0,_;s=s*44100+9,w=w*44100+9,n=n*44100,o=o*44100,R=R*44100,h*=500*v/44100**3,k*=v/44100,d*=v/44100,r*=44100,c=c*44100|0;const Ce=s+w+n+o+R|0;for(;E<Ce;P[E++]=B*t){++Te>=100&&(Te=0,B=0),c&&!(++ti%c)&&(i=O,f=Me,X=X||1),r&&!(X%r)&&(i+=d,O+=d,X=0),i+=f+=h,g+=i-i*C*(Math.sin(E)**2+.5);const ke=E<s?E/s:E<s+w?1+(M-1)*((E-s)/w):E<s+w+n?M:E<Ce-R?M*(1-(E-s-w-n)/o):0;_=l===0?Math.sin(g):l===1?Math.sin(g)**3:l===2?Math.sin(g%v>Math.PI?-1:1):l===3?(g%v/v*2-1+(g%v/v*2-1>0?-1:1))*.7:0,_*=1-b+b*Math.sin(v*E/44100/(1/(b*10|0))),k&&(Re+=k,_*=Math.sin(Re)),N?B+=_*ke-B:B=_*ke}return P}const ve={playerFire:[.5,.01,800,0,.02,.04,2,1,20,0,0,0,0,0,0,0,0,.5,.02,0],enemyFire:[.4,.02,400,0,.02,.06,2,1,-10,0,0,0,0,0,0,0,0,.5,.02,0],explosion:[.6,.05,200,0,.06,.2,3,1,0,0,0,0,0,1,0,0,0,.3,.1,0],playerDeath:[.8,.05,150,.01,.15,.4,3,1,-5,0,0,0,0,1,0,0,.1,.2,.15,0],menuSelect:[.3,0,600,0,.01,.02,0,1,0,0,200,.01,0,0,0,0,0,.8,0,0]},y=class y{static init(){y.initialized=!0}static play(e){if(y.muted)return;const i=ve[e];if(i)try{Ht(...i)}catch{}}static setMuted(e){y.muted=e}static isMuted(){return y.muted}static toggleMute(){return y.muted=!y.muted,y.muted}static reset(){y.muted=!1,y.initialized=!1}static getPreset(e){return ve[e]}};y.muted=!1,y.initialized=!1;let S=y;function Yt(t){const[e,i,s,n]=t,o=n/60*44100/4|0,l=s[0].length,a=i[0]?.length??0,f=[];for(let r=0;r<a;r++)f.push([]);for(let r=0;r<l;r++)for(let c=0;c<a;c++){const C=s[c][r],k=i[C];if(!k||!k[c])continue;const N=k[c],R=N.length/3|0;for(let M=0;M<R;M++){const w=N[M*3],b=N[M*3+1];if(w!==void 0&&w>0&&b!==void 0){const I=[...e[b]||[]],v=I[2]||220;I[2]=v*2**((w-60)/12);const O=ye(...I).slice(0,o);f[c].length;const P=(r*R+M)*o;for(;f[c].length<P;)f[c].push(0);for(let g=0;g<O.length;g++)f[c].length<=P+g?f[c].push(O[g]):f[c][P+g]+=O[g]}else{const I=(r*R+M+1)*o;for(;f[c].length<I;)f[c].push(0)}}}const h=Math.max(...f.map(r=>r.length),0),d=new Array(h).fill(0);for(const r of f)for(let c=0;c<r.length;c++)d[c]+=r[c];if(a>1){const r=1/a;for(let c=0;c<d.length;c++)d[c]*=r}return d}const Ut={menu:[[[.3,0,220,.1,.3,.2,0,1,0,0,0,0,0,0,0,0,0,.7,.05,0],[.25,0,110,0,.15,.1,2,1,0,0,0,0,0,0,0,0,0,.5,.02,0]],[[[60,0,0,64,0,0,67,0,0,64,0,0,60,0,0,62,0,0,65,0,0,62,0,0],[48,1,0,0,void 0,0,48,1,0,0,void 0,0,45,1,0,0,void 0,0,45,1,0,0,void 0,0]],[[65,0,0,67,0,0,69,0,0,67,0,0,65,0,0,64,0,0,62,0,0,60,0,0],[41,1,0,0,void 0,0,41,1,0,0,void 0,0,43,1,0,0,void 0,0,48,1,0,0,void 0,0]]],[[0,1,0,1],[0,1,0,1]],90],gameplay:[[[.3,0,440,0,.1,.08,1,1,2,0,0,0,0,0,0,0,0,.6,.02,0],[.3,0,110,0,.1,.06,2,1,0,0,0,0,0,0,0,0,0,.5,.02,0]],[[[72,0,0,72,0,0,74,0,0,76,0,0,79,0,0,76,0,0,74,0,0,72,0,0],[48,1,0,48,1,0,48,1,0,48,1,0,50,1,0,50,1,0,52,1,0,48,1,0]],[[76,0,0,79,0,0,81,0,0,79,0,0,76,0,0,74,0,0,72,0,0,74,0,0],[53,1,0,53,1,0,55,1,0,55,1,0,50,1,0,50,1,0,48,1,0,48,1,0]]],[[0,0,1,0],[0,0,1,0]],140]},u=class u{static play(e){if(u.currentTrack!==e||!u.playing)u.stop();else return;if(u.currentTrack=e,S.isMuted()){u.playing=!0;return}u.startPlayback(e)}static stop(){if(u.sourceNode){try{u.sourceNode.stop()}catch{}u.sourceNode=null}u.currentTrack=null,u.playing=!1}static getCurrentTrack(){return u.currentTrack}static isPlaying(){return u.playing}static onMuteChanged(e){if(e){if(u.sourceNode){try{u.sourceNode.stop()}catch{}u.sourceNode=null}}else u.currentTrack&&u.playing&&u.startPlayback(u.currentTrack)}static reset(){u.stop()}static startPlayback(e){const i=Ut[e];if(i)try{const s=Yt(i),n=me(s);n&&(n.loop=!0,u.sourceNode=n,u.playing=!0)}catch{u.playing=!0}}};u.currentTrack=null,u.sourceNode=null,u.playing=!1;let A=u;const jt={levelNumber:1,name:"First Contact",waves:[{waveNumber:1,delay:0,enemies:[{type:"A",count:20,formation:"grid",rows:5,cols:4,spawnDelay:0}]},{waveNumber:2,delay:3e3,enemies:[{type:"A",count:16,formation:"grid",rows:4,cols:4,spawnDelay:0},{type:"B",count:4,formation:"grid",rows:1,cols:4,spawnDelay:0}]},{waveNumber:3,delay:3e3,enemies:[{type:"A",count:12,formation:"grid",rows:3,cols:4,spawnDelay:0},{type:"B",count:4,formation:"grid",rows:1,cols:4,spawnDelay:0},{type:"C",count:4,formation:"grid",rows:1,cols:4,spawnDelay:0}]},{waveNumber:4,delay:3e3,enemies:[{type:"A",count:8,formation:"grid",rows:2,cols:4,spawnDelay:0},{type:"B",count:8,formation:"grid",rows:2,cols:4,spawnDelay:0},{type:"C",count:4,formation:"grid",rows:1,cols:4,spawnDelay:0}]},{waveNumber:5,delay:3e3,enemies:[{type:"A",count:4,formation:"grid",rows:1,cols:4,spawnDelay:0},{type:"B",count:8,formation:"grid",rows:2,cols:4,spawnDelay:0},{type:"C",count:8,formation:"grid",rows:2,cols:4,spawnDelay:0}]}]};class Gt{constructor(e={}){this.headless=e.headless??!1,this.renderer=e.renderer??null,this.stateManager=new xe,this.inputHandler=new Qe(this.headless),this.gameLoop=new Ke(i=>this.update(i),i=>this.render(i)),this.levelManager=new kt,this.levelManager.registerLevel(jt),this.enemyFiringManager=new Ot,this.diveManager=new Bt,this.stateManager.currentState.background=z(),A.play("menu")}start(){this.headless||this.gameLoop.start()}stop(){this.gameLoop.stop()}tickHeadless(e){this.gameLoop.tickHeadless(e)}getState(){return this.stateManager.currentState}getPreviousState(){return this.stateManager.previousState}update(e){this.stateManager.swapBuffers();const i=this.stateManager.currentState,s=e/1e3;switch(i.deltaTime=e,i.currentTime+=e,i.gameStatus){case"menu":this.updateMenu(i);break;case"playing":this.updatePlaying(i,s);break;case"paused":this.updatePaused(i);break;case"gameover":this.updateGameOver(i);break;case"levelcomplete":this.updateLevelComplete(i);break}}updateMenu(e){const i=this.inputHandler.getMenuInput();if(e.menu&&(i.down&&(e.menu={...e.menu,selectedOption:Math.min(e.menu.selectedOption+1,e.menu.options.length-1)}),i.up&&(e.menu={...e.menu,selectedOption:Math.max(e.menu.selectedOption-1,0)}),i.confirm)){S.play("menuSelect");const s=e.menu.options[e.menu.selectedOption];s==="1 Player"?(e.gameMode="single",this.startGame(e)):s==="2 Players"&&(e.gameMode="co-op",this.startGame(e))}}startGame(e){if(e.gameStatus="playing",e.menu=null,e.projectiles=[],A.play("gameplay"),e.gameMode==="co-op"){const i=q("player1");i.position.x=p*.33;const s=q("player2");s.position.x=p*.66,e.players=[i,s]}else e.players=[q("player1")];this.enemyFiringManager.reset(),this.diveManager.reset(),this.levelManager.startLevel(e,1)}updatePlaying(e,i){if(this.inputHandler.getMuteToggle()){const r=S.toggleMute();A.onMuteChanged(r)}for(const r of e.players)r.deathSequence?.active||(r.id==="player1"?r.input=this.inputHandler.getPlayerInput():r.id==="player2"&&(r.input=this.inputHandler.getPlayer2Input()));for(const r of e.players)r.deathSequence?.active||Ze(r,i);const s=e.projectiles.length;at(e),e.projectiles.length-s>0&&S.play("playerFire"),rt(e,i),e.formation&&e.enemies.length>0&&ut(e,i),this.diveManager.update(e,i);const o=e.projectiles.length;this.enemyFiringManager.update(e,i),e.projectiles.length>o&&S.play("enemyFire"),e.background&&mt(e.background,i),e.currentWave;const l=e.waveStatus;if(this.levelManager.update(e),l==="active"&&e.waveStatus!=="active"){for(const r of e.players)r.isAlive&&(r.score+=ze);if(e.waveStatus==="complete"){e.gameStatus="levelcomplete",A.stop();const r=e.players.reduce((c,C)=>c+C.score,0);e.menu={type:"levelcomplete",selectedOption:0,options:["Main Menu"],data:{finalScore:r,wave:e.currentWave}};return}}const a=e.enemies.filter(r=>r.isAlive).length,f=e.players.filter(r=>r.isAlive).length;vt(e);const h=e.enemies.filter(r=>r.isAlive).length,d=e.players.filter(r=>r.isAlive).length;h<a&&S.play("explosion"),d<f&&S.play("playerDeath");for(const r of e.players)r.deathSequence?.active&&e.currentTime-r.deathSequence.startTime>=r.deathSequence.duration&&(r.deathSequence.active=!1,r.lives>0&&st(r));this.checkGameOver(e)}updatePaused(e){this.inputHandler.getMenuInput().back&&(e.gameStatus="playing",e.menu=null)}updateGameOver(e){const i=this.inputHandler.getMenuInput();if(e.menu&&(i.down&&(e.menu={...e.menu,selectedOption:Math.min(e.menu.selectedOption+1,e.menu.options.length-1)}),i.up&&(e.menu={...e.menu,selectedOption:Math.max(e.menu.selectedOption-1,0)}),i.confirm)){S.play("menuSelect");const s=e.menu.options[e.menu.selectedOption];s==="Restart"?(this.stateManager.reset(),this.stateManager.currentState.background=z(),this.startGame(this.stateManager.currentState)):s==="Main Menu"&&(this.stateManager.reset(),this.stateManager.currentState.background=z(),A.play("menu"))}}updateLevelComplete(e){const i=this.inputHandler.getMenuInput();e.menu&&i.confirm&&(S.play("menuSelect"),e.menu.options[e.menu.selectedOption]==="Main Menu"&&(this.stateManager.reset(),this.stateManager.currentState.background=z(),A.play("menu")))}checkGameOver(e){if(e.players.some(n=>n.deathSequence?.active))return;const s=e.players.filter(n=>n.isAlive||n.lives>0);if(e.players.length>0&&s.length===0){e.gameStatus="gameover",A.play("menu");const n=e.players.find(a=>a.id==="player1"),o=e.players.find(a=>a.id==="player2"),l=n?.score??0;e.menu={type:"gameover",selectedOption:0,options:["Restart","Main Menu"],data:{finalScore:l,...o?{p2Score:o.score}:{}}}}}render(e){this.renderer&&this.renderer.render(this.stateManager.currentState,this.stateManager.previousState,e)}destroy(){this.stop(),A.stop(),this.inputHandler.destroy(),this.renderer&&this.renderer.destroy()}}const zt=`
  .menu-overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    background: rgba(0, 0, 0, 0.85);
    font-family: 'Courier New', monospace;
    color: #fff;
    pointer-events: none;
    opacity: 0;
    transition: opacity 0.3s ease;
    z-index: 1000;
  }

  .menu-overlay.visible {
    opacity: 1;
  }

  .menu-title {
    font-size: 52px;
    font-weight: bold;
    color: #ffff00;
    margin-bottom: 12px;
  }

  .menu-title.gameover {
    color: #ff4444;
  }

  .menu-title.levelcomplete {
    color: #44ff44;
  }

  .menu-subtitle {
    font-size: 16px;
    color: #88aacc;
    margin-bottom: 30px;
  }

  .menu-controls {
    font-size: 14px;
    color: #888;
    margin-bottom: 8px;
  }

  .menu-controls-group {
    margin-bottom: 24px;
  }

  .menu-score {
    font-size: 24px;
    color: #fff;
    margin-bottom: 8px;
  }

  .menu-p2score {
    font-size: 18px;
    color: #4488ff;
    margin-bottom: 16px;
  }

  .menu-options {
    list-style: none;
    padding: 0;
    margin: 0;
  }

  .menu-option {
    font-size: 22px;
    color: #666;
    padding: 6px 0;
    transition: color 0.15s;
  }

  .menu-option.selected {
    color: #ffff00;
  }

  .menu-option.selected::before {
    content: '> ';
  }

  .menu-version {
    position: absolute;
    bottom: 12px;
    font-size: 12px;
    color: #444;
  }
`;class Wt{constructor(e,i=Le){this.lastMenuType=null,this.lastSelectedOption=-1,this.lastMenuDataHash="",this.container=e,this.version=i,this.styleEl=document.createElement("style"),this.styleEl.textContent=zt,document.head.appendChild(this.styleEl),this.overlay=document.createElement("div"),this.overlay.className="menu-overlay",this.container.appendChild(this.overlay)}update(e){const i=e.menu;if(!(e.gameStatus==="menu"||e.gameStatus==="gameover"||e.gameStatus==="levelcomplete")||!i){this.hide();return}const n=JSON.stringify(i.data||{});(i.type!==this.lastMenuType||n!==this.lastMenuDataHash)&&(this.buildMenu(i.type,i.options,i.data),this.lastMenuType=i.type,this.lastMenuDataHash=n),i.selectedOption!==this.lastSelectedOption&&(this.updateSelection(i.selectedOption),this.lastSelectedOption=i.selectedOption),this.show()}buildMenu(e,i,s){if(this.overlay.innerHTML="",e==="start")this.overlay.innerHTML=`
        <div class="menu-title">PB-GALAGA</div>
        <div class="menu-subtitle">A Space Shooter</div>
        <div class="menu-controls-group">
          <div class="menu-controls">Arrow Keys: Move Ship</div>
          <div class="menu-controls">Spacebar: Fire Laser</div>
        </div>
        ${this.buildOptions(i)}
        <div class="menu-version">v${this.version}</div>
      `;else if(e==="gameover"){let n="";s?.finalScore!==void 0&&(n+=`<div class="menu-score">Final Score: ${s.finalScore}</div>`),s?.p2Score!==void 0&&(n+=`<div class="menu-p2score">P2 Score: ${s.p2Score}</div>`),this.overlay.innerHTML=`
        <div class="menu-title gameover">GAME OVER</div>
        ${n}
        ${this.buildOptions(i)}
      `}else if(e==="levelcomplete"){let n="";s?.finalScore!==void 0&&(n+=`<div class="menu-score">Total Score: ${s.finalScore}</div>`),this.overlay.innerHTML=`
        <div class="menu-title levelcomplete">LEVEL COMPLETE!</div>
        ${n}
        ${this.buildOptions(i)}
      `}}buildOptions(e){return`<ul class="menu-options">${e.map((s,n)=>`<li class="menu-option" data-index="${n}">${s}</li>`).join("")}</ul>`}updateSelection(e){this.overlay.querySelectorAll(".menu-option").forEach((s,n)=>{s.classList.toggle("selected",n===e)})}show(){this.overlay.classList.add("visible")}hide(){this.overlay.classList.contains("visible")&&(this.overlay.classList.remove("visible"),this.lastMenuType=null,this.lastSelectedOption=-1,this.lastMenuDataHash="")}destroy(){this.overlay.remove(),this.styleEl.remove()}}function ge(t,e){for(const i of e){const s=Math.floor(i.brightness*255);t.fillStyle=`rgb(${s},${s},${s})`,i.brightness>.7&&(t.shadowBlur=2,t.shadowColor=`rgba(180, 200, 255, ${i.brightness*.5})`),t.fillRect(Math.floor(i.position.x),Math.floor(i.position.y),Math.ceil(i.size),Math.ceil(i.size)),i.brightness>.7&&(t.shadowBlur=0)}}function Se(t,e,i){return t+(e-t)*i}function Z(t,e,i){return{x:Se(t.x,e.x,i),y:Se(t.y,e.y,i)}}const we={red:{fill:"#ff3344",glow:"#ff3344",cockpit:"#2244aa"},blue:{fill:"#0099ff",glow:"#0099ff",cockpit:"#aa2244"}};function $t(t,e,i,s,n){for(const o of e){if(!o.isAlive||o.deathSequence?.active)continue;const l=i.get(o.id),a=l?Z(l.position,o.position,s):o.position,f=we[o.shipColor]||we.red;if(t.save(),o.isInvulnerable){const h=Math.floor(n/100)%2===0;t.globalAlpha=h?1:.3}t.shadowBlur=12,t.shadowColor=f.glow,t.fillStyle=f.fill,t.beginPath(),t.moveTo(a.x,a.y-14),t.lineTo(a.x-12,a.y+12),t.lineTo(a.x+12,a.y+12),t.closePath(),t.fill(),t.shadowBlur=0,t.fillStyle=f.cockpit,t.fillRect(a.x-2,a.y-2,4,6),t.shadowBlur=6,t.shadowColor="#ffaa22",t.fillStyle="#ffff44",t.fillRect(a.x-5,a.y+10,3,3),t.fillRect(a.x+2,a.y+10,3,3),t.shadowBlur=0,t.restore()}}const Ee={A:{fill:"#00ff44",glow:"#00ff44",accent:"#44ee66"},B:{fill:"#00ccff",glow:"#00ccff",accent:"#44bbee"},C:{fill:"#ff5500",glow:"#ff5500",accent:"#ff8822"}};function Xt(t,e,i,s){for(const n of e){if(!n.isAlive)continue;const o=i.get(n.id),l=o?Z(o.position,n.position,s):n.position,a=Ee[n.type]||Ee.A;t.save(),t.shadowBlur=10,t.shadowColor=a.glow,n.type==="A"?Kt(t,l.x,l.y,a):n.type==="B"?xt(t,l.x,l.y,a):qt(t,l.x,l.y,a),t.restore()}}function Kt(t,e,i,s){t.fillStyle=s.fill,t.fillRect(e-4,i-12,8,4),t.fillRect(e-8,i-8,16,10),t.fillRect(e-6,i+2,12,4),t.fillRect(e-10,i+6,4,5),t.fillRect(e+6,i+6,4,5),t.fillRect(e-2,i+6,4,5),t.fillStyle=s.accent,t.fillRect(e-2,i-10,4,2),t.shadowBlur=0,t.fillStyle="#ff2222",t.fillRect(e-5,i-5,3,3),t.fillRect(e+2,i-5,3,3),t.fillStyle="#ffffff",t.fillRect(e-4,i-4,1,1),t.fillRect(e+3,i-4,1,1)}function xt(t,e,i,s){t.fillStyle=s.fill,t.fillRect(e-8,i-12,16,4),t.fillRect(e-10,i-8,20,6),t.fillRect(e-12,i-2,24,8),t.fillRect(e-8,i+6,16,4),t.fillStyle="#006699",t.fillRect(e-10,i-2,4,4),t.fillRect(e+6,i-2,4,4),t.shadowBlur=0,t.fillStyle="#ffaa22",t.fillRect(e-6,i-6,4,3),t.fillRect(e+2,i-6,4,3),t.fillStyle="#ffffff",t.fillRect(e-5,i-5,2,1),t.fillRect(e+3,i-5,2,1),t.fillStyle=s.accent,t.fillRect(e-4,i+2,8,2)}function qt(t,e,i,s){t.fillStyle=s.fill,t.beginPath(),t.moveTo(e,i-12),t.lineTo(e-6,i-4),t.lineTo(e+6,i-4),t.closePath(),t.fill(),t.fillRect(e-8,i-4,16,6),t.fillRect(e-14,i+2,28,4),t.fillRect(e-4,i+6,8,4),t.fillStyle=s.accent,t.fillRect(e-14,i+4,4,2),t.fillRect(e+10,i+4,4,2),t.shadowBlur=0,t.fillStyle="#44ff44",t.fillRect(e-4,i-2,3,2),t.fillRect(e+1,i-2,3,2)}function Vt(t,e,i,s){for(const n of e){if(!n.isActive)continue;const o=i.get(n.id),l=o?Z(o.position,n.position,s):n.position;if(t.save(),n.type==="laser")t.shadowBlur=8,t.shadowColor="#00ffff",t.fillStyle="#00ffff",t.fillRect(l.x-2,l.y-6,4,12),t.shadowBlur=0,t.fillStyle="#ffffff",t.fillRect(l.x-1,l.y-5,2,10);else{const a=n.owner.type==="player",f=a?"#00ffff":"#ffff00",h=a?"#00ffff":"#ff8800";t.shadowBlur=6,t.shadowColor=h,t.fillStyle=f,t.fillRect(l.x-2,l.y-3,4,6),t.shadowBlur=0,t.fillStyle="#ffffff",t.fillRect(l.x-1,l.y-2,2,4)}t.restore()}}function Qt(t,e,i,s){t.save(),t.font="16px monospace";const n=e.players.find(l=>l.id==="player1");if(n){const l=e.gameMode==="co-op"?"P1 ":"";t.fillStyle="#ffffff",t.textAlign="right",t.fillText(`${l}Score: ${n.score}`,p-10,24),t.fillText(`${l}Lives: ${n.lives}`,p-10,44)}const o=e.players.find(l=>l.id==="player2");o&&(t.fillStyle="#4488ff",t.textAlign="right",t.fillText(`P2 Score: ${o.score}`,p-10,68),t.fillText(`P2 Lives: ${o.lives}`,p-10,88)),t.font="14px monospace",t.fillStyle="#aaaaaa",t.textAlign="center",t.fillText(`Wave ${e.currentWave}`,p/2,24),t.font="12px monospace",t.fillStyle="#88ff88",t.textAlign="left",t.fillText(`Engine: ${i} | Render: ${s}`,10,20),t.restore()}const Ae={A:["#00ff44","#66ff88","#ffffff"],B:["#00ccff","#55ddff","#ffffff"],C:["#ff5500","#ff9933","#ffffff"],player:["#ff3344","#ff7755","#ffffff"],default:["#ffcc00","#ff5500","#ffffff"]};class Zt{constructor(){this.particles=[],this.explodedEntities=new Set,this.shakeOffsetX=0,this.shakeOffsetY=0,this.shakeTimer=0,this.shakeDuration=0,this.shakeIntensity=0}emit(e,i,s,n){if(this.explodedEntities.has(s))return;this.explodedEntities.add(s);const o=Ae[n]||Ae.default,l=n==="player",a=l?35:20,f=l?200:150,h=l?600:400;for(let d=0;d<a;d++){const r=Math.random()*Math.PI*2,c=30+Math.random()*f,C=o[Math.floor(Math.random()*o.length)];this.particles.push({x:e,y:i,vx:Math.cos(r)*c,vy:Math.sin(r)*c,color:C,life:h,maxLife:h,size:2+Math.random()*3})}l&&(this.shakeTimer=0,this.shakeDuration=150,this.shakeIntensity=4)}update(e){for(let i=this.particles.length-1;i>=0;i--){const s=this.particles[i],n=e/1e3;s.x+=s.vx*n,s.y+=s.vy*n,s.vy+=50*n,s.vx*=.99,s.vy*=.99,s.life-=e,s.life<=0&&this.particles.splice(i,1)}if(this.shakeTimer<this.shakeDuration){this.shakeTimer+=e;const i=1-this.shakeTimer/this.shakeDuration;this.shakeOffsetX=(Math.random()-.5)*2*this.shakeIntensity*i,this.shakeOffsetY=(Math.random()-.5)*2*this.shakeIntensity*i}else this.shakeOffsetX=0,this.shakeOffsetY=0}draw(e){for(const i of this.particles){const s=Math.max(0,i.life/i.maxLife);e.save(),e.globalAlpha=s,e.fillStyle=i.color,s>.5&&(e.shadowBlur=6,e.shadowColor=i.color),e.fillRect(Math.floor(i.x-i.size/2),Math.floor(i.y-i.size/2),Math.ceil(i.size),Math.ceil(i.size)),e.restore()}}clearTracking(){this.explodedEntities.clear(),this.particles=[],this.shakeTimer=0,this.shakeDuration=0,this.shakeOffsetX=0,this.shakeOffsetY=0}get activeCount(){return this.particles.length}}class Jt{constructor(e){this.engineFps=0,this.renderFps=0,this.lastRenderTime=0,this.lastGameStatus="";const i=document.getElementById(e);if(!i)throw new Error(`Container #${e} not found`);i.style.position="relative",this.canvas=document.createElement("canvas"),this.canvas.width=p,this.canvas.height=m,this.canvas.style.display="block",i.appendChild(this.canvas),this.ctx=this.canvas.getContext("2d"),this.particleSystem=new Zt,this.menuOverlay=new Wt(i)}setFpsCounters(e,i){this.engineFps=e,this.renderFps=i}render(e,i,s){const n=this.ctx,o=performance.now(),l=this.lastRenderTime>0?o-this.lastRenderTime:16.667;if(this.lastRenderTime=o,e.gameStatus==="playing"&&this.lastGameStatus!=="playing"&&this.particleSystem.clearTracking(),this.lastGameStatus=e.gameStatus,n.fillStyle="#000",n.fillRect(0,0,p,m),this.particleSystem.update(l),e.gameStatus==="menu"||e.gameStatus==="gameover"||e.gameStatus==="levelcomplete"){e.background&&ge(n,e.background.stars),this.particleSystem.draw(n),this.menuOverlay.update(e);return}n.save(),n.translate(this.particleSystem.shakeOffsetX,this.particleSystem.shakeOffsetY);const a=new Map(i.players.map(d=>[d.id,d])),f=new Map(i.enemies.map(d=>[d.id,d])),h=new Map(i.projectiles.map(d=>[d.id,d]));this.detectDeaths(e),e.background&&ge(n,e.background.stars),Xt(n,e.enemies,f,s),Vt(n,e.projectiles,h,s),$t(n,e.players,a,s,e.currentTime),this.particleSystem.draw(n),n.restore(),Qt(n,e,this.engineFps,this.renderFps),this.menuOverlay.update(e)}detectDeaths(e){for(const i of e.enemies)!i.isAlive&&i.collisionState==="destroyed"&&this.particleSystem.emit(i.position.x,i.position.y,i.id,i.type);for(const i of e.players)i.isAlive||this.particleSystem.emit(i.position.x,i.position.y,i.id,"player")}destroy(){this.menuOverlay.destroy(),this.canvas.remove()}}const F=new Jt("game-container"),$=new Gt({renderer:F}),ei=F.render.bind(F);F.render=(t,e,i)=>{F.setFpsCounters($.gameLoop.engineFps,$.gameLoop.renderFps),ei(t,e,i)},$.start(),window.__game=$})();
//# sourceMappingURL=index-B1k3hJ_A.js.map
